<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.study.domain.mapper.notification.NotificationCommandMapper">

    <!-- 알람을 저장하는 메서드 -->
    <insert id="save" parameterType="com.study.domain.notification.entity.Notification" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO notification (userId, notification_type, content, url, is_read)
        VALUES (#{userId}, #{notificationType}, #{content}, #{url}, #{isRead});
    </insert>

    <!-- 읽음 상태를 업데이트하는 메서드 -->
    <update id="updateNotificationReadStatus">
        UPDATE notification
        SET is_read = #{isRead}
        WHERE id = #{id}
    </update>

</mapper>