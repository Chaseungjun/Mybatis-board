<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.study.domain.mapper.liked.LikedCommandMapper">

    <insert id="save" parameterType="com.study.domain.liked.entity.Liked">
        INSERT INTO liked (userId, post_id)
        VALUES (#{userId}, #{postId})
    </insert>

    <!-- 사용자 ID와 게시물 ID를 기반으로 좋아요 삭제 -->
    <delete id="deleteLikesByUserAndPost" parameterType="map">
        DELETE FROM liked
        WHERE userId = #{user.userId}
          AND post_id = #{post.id}
    </delete>
</mapper>